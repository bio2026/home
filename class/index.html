<!DOCTYPE html>
<html lang="en">
<head>
<!-- Block search engines -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimum-scale=1.0">
<meta name="robots" content="noindex, nofollow, noarchive">
<meta name="googlebot" content="noindex">
<meta name="bingbot" content="noindex">

<!-- Block archive.org -->
<meta name="archive" content="none">
  <title>HP Plus</title>
<link rel="icon" href="logo.jpg" type="image/jpg">
  <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
    /* Copy Protection */
body {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
    
    input, textarea, [contenteditable] {
      -webkit-user-select: text !important;
      -moz-user-select: text !important;
      -ms-user-select: text !important;
      user-select: text !important;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background: #121212;
      font-family: 'Hind Siliguri', 'Poppins', sans-serif;
      color: #e0e0e0;
      line-height: 1.6;
      padding: 15px;
      min-height: 100vh;
      overflow-x: hidden;
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
      position: relative;
    }
    
    /* Access Modal Styles */
    .access-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      backdrop-filter: blur(10px);
      animation: fadeIn 0.3s ease-out;
    }
    
    .access-box {
      background: #1e1e1e;
      padding: 30px;
      border-radius: 20px;
      text-align: center;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(187, 134, 252, 0.3);
      transform: scale(0.95);
      animation: scaleUp 0.3s ease-out forwards;
    }
    
    .access-box h2 {
      font-size: 2.2rem;
      margin-bottom: 20px;
      color: #bb86fc;
      transform: translateY(-10px);
      opacity: 0;
      animation: fadeIn 0.4s 0.1s ease-out forwards, slideInDown 0.4s 0.1s ease-out forwards;
    }
    
    .access-box p {
      color: #bbb;
      margin-bottom: 30px;
      font-size: 1.1rem;
    }
    
    .code-input {
      display: flex;
      justify-content: center;
      margin: 25px 0;
      gap: 8px;
    }
    
    .code-input input {
      width: 65px;
      height: 65px;
      text-align: center;
      font-size: 2rem;
      font-weight: bold;
      background: rgba(30, 30, 30, 0.8);
      border: 2px solid #bb86fc;
      border-radius: 10px;
      color: #e0e0e0;
      outline: none;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1);
    }
    
    .code-input input:focus {
      border-color: #3700b3;
      box-shadow: 0 0 0 3px rgba(187, 134, 252, 0.2);
    }
    
    .access-btn {
      background: #bb86fc;
      color: #121212;
      border: none;
      padding: 15px 40px;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1);
      margin: 20px 0;
      box-shadow: 0 5px 20px rgba(187, 134, 252, 0.2);
      width: 100%;
      max-width: 300px;
    }
    
    .access-btn:hover {
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 8px 25px rgba(187, 134, 252, 0.3);
    }
    
    .error-container {
      background: rgba(255, 80, 80, 0.15);
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
      border: 1px solid rgba(255, 80, 80, 0.3);
      display: none;
    }
    
    .error-container img {
      width: 120px;
      height: 120px;
      margin-bottom: 15px;
    }
    
    .retry-btn {
      background: #bb86fc;
      color: #121212;
      border: none;
      padding: 12px 30px;
      border-radius: 50px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1);
      margin-top: 15px;
      width: 100%;
      max-width: 200px;
      box-shadow: 0 5px 20px rgba(187, 134, 252, 0.2);
    }
    
    .retry-btn:hover {
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 8px 25px rgba(187, 134, 252, 0.3);
    }
    
    /* Main Content */
    header {
      text-align: center;
      margin-bottom: 25px;
      padding: 15px;
    }
    
    h1 {
      font-size: 2.8rem;
      font-weight: 700;
      margin-bottom: 10px;
      color: #bb86fc;
      text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    
    .subtitle {
      font-size: 1.2rem;
      color: #aaa;
      max-width: 600px;
      margin: 0 auto;
    }
    
    .main-container {
      display: flex;
      flex-direction: column;
      gap: 25px;
    }
    
    @media (min-width: 992px) {
      .main-container {
        flex-direction: row;
        align-items: flex-start;
      }
    }
    
    .video-section {
      flex: 2;
      min-width: 0;
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(187, 134, 252, 0.1);
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1);
    }
    
    .video-section:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0,0,0,0.5);
      border-color: rgba(187, 134, 252, 0.3);
    }
    
    .video-header {
      margin-bottom: 20px;
    }
    
    .video-header h2 {
      font-size: 1.8rem;
      margin-bottom: 8px;
      color: #e0e0e0;
    }
    
    .video-header p {
      color: #bbb;
      font-size: 1.1rem;
    }
    
    .video-wrapper {
      position: relative;
      width: 100%;
      padding-bottom: 56.25%; /* 16:9 aspect ratio */
      border-radius: 12px;
      overflow: hidden;
      background: #000;
      box-shadow: 0 8px 25px rgba(0,0,0,0.5);
    }
    
    .plyr {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    
    .plyr__video-embed iframe {
      background: transparent !important;
    }
    
    .mark-complete-container {
      display: flex;
      justify-content: center;
      margin: 20px 0;
    }
    
.mark-complete-btn {
  background: rgba(0, 200, 83, 0.1);
  color: #00c853;
  border: 1px solid rgba(0, 200, 83, 0.3);
  padding: 18px 30px;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  width: 100%;
  max-width: 425.6px;
  margin: 15px auto;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  height: 64.8px;
  font-size: 1.1rem;
}

.mark-complete-btn:hover {
  background: #1b5e20; /* Even darker green on hover */
  transform: translateY(-2px); /* Subtle lift effect */
  box-shadow: 0 2px 5px rgba(0,0,0,0.2); /* Subtle shadow instead of glow */
}

.mark-complete-btn.completed {
  background: #1b5e20;
  color: #e0e0e0;
  cursor: default;
}    
    .description-box {
      margin-top: 25px;
    }
    
    .resources-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }
    
    .resource-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 15px 20px;
      background: #bb86fc;
      color: #121212;
      border: none;
      border-radius: 10px;
      font-weight: 500;
      text-decoration: none;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1);
    }
    
    .resource-btn:hover {
      transform: translateY(-3px) scale(1.02);
    }
    
    .resource-btn i {
      font-size: 1.5rem;
      margin-right: 15px;
    }
    
    .resources-section {
      flex: 1;
      min-width: 0;
    }
    
    .instructor-card {
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(187, 134, 252, 0.1);
      margin-bottom: 25px;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1);
    }
    
    .instructor-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0,0,0,0.5);
      border-color: rgba(187, 134, 252, 0.3);
    }
    
    .instructor-info {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 25px;
    }
    
    .instructor-img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #bb86fc;
      transition: all 0.3s ease;
    }
    
    .instructor-card:hover .instructor-img {
      transform: rotate(5deg);
    }
    
    .instructor-details h3 {
      font-size: 1.5rem;
      margin-bottom: 5px;
      color: #e0e0e0;
    }
    
    .instructor-details p {
      color: #bbb;
      font-size: 1rem;
    }
    
    .about-lecture h3 {
      font-size: 1.4rem;
      margin-bottom: 15px;
      color: #e0e0e0;
    }
    
    .about-lecture p {
      color: #ccc;
      line-height: 1.7;
      max-height: 150px;
      overflow: hidden;
      position: relative;
      transition: max-height 0.5s ease;
    }
    
    .about-lecture p.expanded {
      max-height: 2000px;
    }
    
    .read-more {
      display: block;
      text-align: center;
      color: #bb86fc;
      margin-top: 10px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    
    .read-more:hover {
      text-decoration: underline;
    }
    
    .url-info {
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(187, 134, 252, 0.1);
      font-size: 0.95rem;
    }
    
    .url-info h4 {
      margin-bottom: 10px;
      color: #bb86fc;
    }
    
    .url-info code {
      display: block;
      background: rgba(0,0,0,0.3);
      padding: 12px;
      border-radius: 8px;
      margin-top: 10px;
      font-family: monospace;
      overflow-x: auto;
      color: #bb86fc;
    }
    
    .error-message {
      background: rgba(255, 80, 80, 0.15);
      color: #ff6b6b;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      font-size: 1.1rem;
      margin: 20px 0;
      display: none;
      border: 1px solid rgba(255, 80, 80, 0.3);
    }
    
    footer {
      text-align: center;
      margin-top: 40px;
      padding: 20px;
      color: #888;
      font-size: 0.9rem;
    }
    
    .lectures-section {
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(187, 134, 252, 0.1);
      margin-top: 25px;
    }
    
    .lectures-section h3 {
      font-size: 1.5rem;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(187, 134, 252, 0.1);
      color: #e0e0e0;
    }
    
    .lectures-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }
    
    .lecture-card {
      background: rgba(40, 40, 40, 0.8);
      border-radius: 10px;
      overflow: hidden;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1);
      cursor: pointer;
    }
    
    .lecture-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.5);
    }
    
    .lecture-thumbnail {
      position: relative;
      height: 170px;
      overflow: hidden;
    }
    
    .lecture-thumbnail img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }
    
    .lecture-card:hover .lecture-thumbnail img {
      transform: scale(1.05);
    }
    
    .play-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 50px;
      height: 50px;
      background: rgba(0,0,0,0.7);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .play-icon::after {
      content: '';
      display: block;
      width: 0;
      height: 0;
      border-top: 10px solid transparent;
      border-bottom: 10px solid transparent;
      border-left: 15px solid #e0e0e0;
      margin-left: 5px;
    }
    
    .lecture-info {
      padding: 15px;
    }
    
    .lecture-info h4 {
      font-size: 1.1rem;
      margin-bottom: 8px;
      color: #e0e0e0;
    }
    
    .lecture-meta {
      display: flex;
      justify-content: space-between;
      color: #bbb;
      font-size: 0.9rem;
    }
    
    .more-btn {
      display: block;
      width: 100%;
      padding: 12px;
      margin-top: 20px;
      background: rgba(187, 134, 252, 0.1);
      color: #bb86fc;
      border: 1px solid #bb86fc;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1);
    }
    
    .more-btn:hover {
      background: rgba(187, 134, 252, 0.2);
      transform: translateY(-2px);
    }
    
    /* Progress Section */
    .progress-card {
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(187, 134, 252, 0.1);
      margin-bottom: 25px;
    }
    
    .progress-card h3 {
      font-size: 1.5rem;
      margin-bottom: 15px;
      color: #e0e0e0;
    }
    
    .progress-bar {
      height: 20px;
      background: rgba(0,0,0,0.3);
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 15px;
    }
    
    .progress-fill {
      height: 100%;
      background: #00c853;
      border-radius: 10px;
      transition: width 0.5s ease;
    }
    
    .progress-text {
      text-align: center;
      font-size: 1.1rem;
      margin-bottom: 15px;
      color: #bbb;
    }
    
    .completed-list {
      padding-right: 10px;
    }
    
    .completed-item {
      background: rgba(40, 40, 40, 0.8);
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 10px;
      border-left: 4px solid #00c853;
    }
    
    .completed-item .class-num {
      font-weight: 600;
      color: #00c853;
      margin-bottom: 5px;
    }
    
    .completed-item .chapter {
      font-weight: 500;
      margin-bottom: 5px;
    }
    
    .completed-item .subject {
      font-size: 0.9rem;
      color: #bbb;
      margin-bottom: 5px;
    }
    
    .completed-item .date {
      font-size: 0.8rem;
      color: #888;
      font-style: italic;
    }
    
    /* Confirmation Modal */
    .confirmation-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1001;
      display: none;
      backdrop-filter: blur(5px);
      animation: fadeIn 0.3s ease-out;
    }
    
    .confirmation-box {
      background: #1e1e1e;
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      width: 90%;
      max-width: 450px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(187, 134, 252, 0.3);
      transform: scale(0.95);
      animation: scaleUp 0.3s ease-out forwards;
    }
    
    .confirmation-box h3 {
      font-size: 1.8rem;
      margin-bottom: 20px;
      color: #e0e0e0;
    }
    
    .confirmation-box p {
      color: #bbb;
      margin-bottom: 25px;
      font-size: 1.1rem;
    }
    
    .confirmation-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
    }
    
    .confirm-btn {
      padding: 12px 30px;
      border: none;
      border-radius: 50px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1);
      font-size: 1rem;
    }
    
    .confirm-yes {
      background: #00c853;
      color: white;
    }
    
    .confirm-no {
      background: #ff5252;
      color: white;
    }
    
    .confirm-btn:hover {
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    
    /* Exit Confirmation */
    .exit-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1002;
      display: none;
      backdrop-filter: blur(10px);
      animation: fadeIn 0.3s ease-out;
    }
    
    .exit-box {
      background: #1e1e1e;
      padding: 35px;
      border-radius: 15px;
      text-align: center;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.7);
      border: 2px solid rgba(187, 134, 252, 0.5);
      transform: scale(0.95);
      animation: scaleUp 0.3s ease-out forwards;
    }
    
    .exit-box h3 {
      font-size: 1.8rem;
      margin-bottom: 20px;
      color: #e0e0e0;
    }
    
    .exit-box p {
      color: #bbb;
      margin-bottom: 30px;
      font-size: 1.1rem;
    }
    
    .exit-buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
    }
    
    .exit-btn {
      padding: 12px 35px;
      border: none;
      border-radius: 50px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1);
      font-size: 1.1rem;
    }
    
    .exit-mark {
      background: #00c853;
      color: white;
    }
    
    .exit-leave {
      background: #ff5252;
      color: white;
    }
    
    .exit-btn:hover {
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 5px 20px rgba(0,0,0,0.4);
    }
    
    /* Circular logo with smooth animations */
    .logo-container {
      display: flex;
      justify-content: center;
      margin-bottom: 15px;
      perspective: 1000px;
    }
    
    .circular-logo {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid rgba(255, 255, 255, 0.8);
      box-shadow: 
        0 0 0 1px rgba(187, 134, 252, 0.2),
        0 0 20px rgba(187, 134, 252, 0.3);
      transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      transform-style: preserve-3d;
      cursor: pointer;
    }
    
    .circular-logo:hover {
      transform: 
        scale(1.1)
        rotateY(15deg);
      box-shadow: 
        0 0 0 2px rgba(187, 134, 252, 0.4),
        0 0 30px rgba(187, 134, 252, 0.6);
      border-color: rgba(255, 255, 255, 1);
    }
    
    /* Pulsing animation when page loads */
    @keyframes pulse {
      0% { transform: scale(0.95); opacity: 0.8; }
      50% { transform: scale(1.05); opacity: 1; }
      100% { transform: scale(0.95); opacity: 0.8; }
    }
    
    .circular-logo.loaded {
      animation: pulse 2s ease-in-out infinite;
    }
    
    /* Back button styles */
    .back-button {
      position: absolute;
      left: 20px;
      top: 20px;
      color: #e0e0e0;
      font-size: 1.5rem;
      background: rgba(255, 255, 255, 0.1);
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1);
      z-index: 10;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .back-button:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateX(-3px);
    }
    
    /* Adjust header positioning to accommodate back button */
    header {
      position: relative;
      text-align: center;
      margin-bottom: 25px;
      padding: 15px;
      padding-top: 30px; /* Add more padding at top for button */
    }
    
    /* Progress bar small */
    .progress-bar-small {
      height: 8px;
      background: rgba(0,0,0,0.3);
      border-radius: 4px;
      flex-grow: 1;
      margin-right: 10px;
    }
    
    .progress-fill-small {
      height: 100%;
      background: #00c853;
      border-radius: 4px;
    }
    
    /* Mobile-specific styles */
    @media (max-width: 768px) {
      body {
        padding: 10px;
        font-size: 18px;
      }
      
      header {
        padding: 10px 0;
        padding-top: 25px;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      .subtitle {
        font-size: 1rem;
      }
      
      .video-section, .instructor-card, .progress-card, .lectures-section {
        padding: 20px;
      }
      
      .instructor-info {
        flex-direction: column;
        text-align: center;
      }
      
      .lectures-grid {
        grid-template-columns: 1fr;
      }
      
      .access-box {
        padding: 25px 15px;
      }
      
      .code-input {
        gap: 6px;
      }
      
      .code-input input {
        width: 55px;
        height: 55px;
        font-size: 1.8rem;
      }
      
      .access-btn, .retry-btn {
        width: 100%;
        max-width: none;
      }
      
      .confirmation-buttons, .exit-buttons {
        flex-direction: column;
        gap: 10px;
      }
      
      .confirm-btn, .exit-btn {
        width: 100%;
      }
      
      .resources-grid {
        grid-template-columns: 1fr;
      }
      
      .resource-btn {
        padding: 18px 20px;
        font-size: 1.1rem;
      }
      
      .resource-btn i {
        font-size: 1.8rem;
      }
      
      .mark-complete-btn {
        padding: 16px 20px;
        font-size: 1.1rem;
      }
      
      .video-header h2 {
        font-size: 1.6rem;
      }
      
      .video-header p {
        font-size: 1rem;
      }
      
      .instructor-img {
        width: 90px;
        height: 90px;
      }
      
      .instructor-details h3 {
        font-size: 1.6rem;
      }
      
      .instructor-details p {
        font-size: 1.1rem;
      }
      
      .about-lecture h3 {
        font-size: 1.5rem;
      }
      
      .about-lecture p {
        font-size: 1.1rem;
      }
      
      .progress-card h3 {
        font-size: 1.6rem;
      }
      
      .progress-text {
        font-size: 1.2rem;
      }
      
      .completed-item {
        padding: 18px;
      }
      
      .completed-item .class-num {
        font-size: 1.1rem;
      }
      
      .completed-item .chapter {
        font-size: 1.1rem;
      }
      
      .completed-item .subject {
        font-size: 1rem;
      }
      
      .completed-item .date {
        font-size: 0.9rem;
      }
      
      .back-button {
        left: 10px;
        top: 10px;
        width: 40px;
        height: 40px;
        font-size: 1.2rem;
      }
    }
    
    @media (max-width: 480px) {
      h1 {
        font-size: 1.8rem;
      }
      
      .access-box h2 {
        font-size: 1.8rem;
      }
      
      .access-box p {
        font-size: 1rem;
      }
      
      .code-input input {
        width: 45px;
        height: 45px;
        font-size: 1.5rem;
      }
      
      .video-header h2 {
        font-size: 1.4rem;
      }
      
      .instructor-img {
        width: 80px;
        height: 80px;
      }
      
      .instructor-details h3 {
        font-size: 1.4rem;
      }
    }
/* Progress Section Styles */
.progress-section {
  margin-top: 30px;
  padding-top: 20px;
  border-top: 1px solid rgba(187, 134, 252, 0.1);
}

.progress-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}

.progress-header h3 {
  font-size: 1.4rem;
  color: #e0e0e0;
  margin: 0;
}

.progress-stats {
  text-align: right;
}

.progress-stats span {
  display: block;
  font-size: 0.9rem;
  color: #bbb;
}

#progress-percentage {
  font-size: 1.1rem;
  font-weight: 600;
  color: #bb86fc;
}

.progress-bar-container {
  margin: 15px 0;
}

.progress-bar {
  height: 8px;
  background: rgba(30, 30, 30, 0.8);
  border-radius: 4px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: #00c853;
  border-radius: 4px;
  width: 0%;
  transition: width 0.5s ease;
}

.mark-complete-btn {
  background: rgba(0, 200, 83, 0.1);
  color: #00c853;
  border: 1px solid rgba(0, 200, 83, 0.3);
  padding: 12px 20px;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  width: 100%;
  margin: 15px 0;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

.mark-complete-btn:hover {
  background: rgba(0, 200, 83, 0.2);
}

.mark-complete-btn.completed {
  background: rgba(0, 200, 83, 0.2);
  color: #00e676;
  cursor: default;
}

.completed-lectures {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.5s ease;
  margin-bottom: 10px;
}

.completed-lectures.expanded {
  max-height: 500px;
  overflow-y: auto;
}

.completed-lecture-item {
  background: rgba(40, 40, 40, 0.8);
  border-radius: 8px;
  padding: 12px;
  margin-bottom: 8px;
  border-left: 3px solid #00c853;
  font-size: 0.9rem;
}

.completed-lecture-item .lecture-title {
  font-weight: 500;
  color: #e0e0e0;
  margin-bottom: 5px;
}

.completed-lecture-item .lecture-meta {
  display: flex;
  justify-content: space-between;
  color: #bbb;
  font-size: 0.8rem;
}

.see-all-btn {
  background: transparent;
  color: #bb86fc;
  border: none;
  padding: 8px 0;
  font-size: 0.9rem;
  cursor: pointer;
  width: 100%;
  text-align: center;
}

.see-all-btn:hover {
  text-decoration: underline;
}
/* Chapter Info Styles */
.chapter-info {
  background: rgba(30, 30, 30, 0.8);
  border-radius: 10px;
  padding: 15px;
  margin: 20px 0;
  border-left: 3px solid #bb86fc;
}

.chapter-info-item {
  margin-bottom: 8px;
  display: flex;
}

.chapter-info-label {
  font-weight: 600;
  color: #bb86fc;
  min-width: 120px;
}

.chapter-info-value {
  color: #e0e0e0;
}

/* Mark Complete Section */
.mark-complete-section {
  margin: 20px 0;
  text-align: center;
}

/* Confirmation Modal */
.confirmation-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1001;
  display: none;
  backdrop-filter: blur(5px);
}

.confirmation-box {
  background: #1e1e1e;
  padding: 30px;
  border-radius: 15px;
  text-align: center;
  width: 90%;
  max-width: 400px;
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.7);
  border: 1px solid rgba(187, 134, 252, 0.3);
}

.confirmation-box h3 {
  font-size: 1.5rem;
  margin-bottom: 20px;
  color: #e0e0e0;
}

.confirmation-box p {
  color: #bbb;
  margin-bottom: 25px;
  font-size: 1.1rem;
}

.confirmation-buttons {
  display: flex;
  justify-content: center;
  gap: 15px;
}

.confirm-btn {
  padding: 12px 30px;
  border: none;
  border-radius: 50px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 1rem;
}

.confirm-yes {
  background: #00c853;
  color: white;
}

.confirm-no {
  background: #ff5252;
  color: white;
}

/* Celebration Modal */
.celebration-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1002;
  display: none;
  backdrop-filter: blur(10px);
}

.celebration-box {
  background: #1e1e1e;
  padding: 40px 30px;
  border-radius: 20px;
  text-align: center;
  width: 90%;
  max-width: 450px;
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.7);
  border: 2px solid rgba(187, 134, 252, 0.5);
  position: relative;
  overflow: hidden;
}

.celebration-box h3 {
  font-size: 2rem;
  margin-bottom: 10px;
  color: #bb86fc;
}

.celebration-box p {
  color: #e0e0e0;
  margin-bottom: 25px;
  font-size: 1.2rem;
}

.progress-update {
  margin: 25px 0;
}

.progress-text {
  font-size: 1.1rem;
  margin-bottom: 15px;
  color: #e0e0e0;
}

.progress-text span {
  color: #00c853;
  font-weight: 600;
}

.progress-bar-animation {
  height: 20px;
  background: rgba(30, 30, 30, 0.8);
  border-radius: 10px;
  position: relative;
  overflow: hidden;
}

.progress-before {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  background: rgba(0, 200, 83, 0.3);
  border-radius: 10px;
}

.progress-after {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  background: #00c853;
  border-radius: 10px;
  width: 0;
  transition: width 1.5s ease-out;
}

.celebration-ok-btn {
  background: #bb86fc;
  color: #121212;
  border: none;
  padding: 12px 40px;
  border-radius: 50px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-top: 20px;
  font-size: 1.1rem;
}

.celebration-ok-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 5px 15px rgba(187, 134, 252, 0.4);
}

/* Confetti Animation */
.confetti {
  position: absolute;
  width: 10px;
  height: 10px;
  background: #bb86fc;
  opacity: 0;
}

@keyframes confetti {
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(1000px) rotate(720deg);
    opacity: 0;
  }
}
/* Add this CSS to your existing styles */
/* PDF Modal Styles */
.pdf-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  backdrop-filter: blur(10px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1003;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.pdf-modal.active {
  opacity: 1;
  visibility: visible;
}

.pdf-modal-content {
  width: 90%;
  height: 90%;
  background: #1e1e1e;
  border-radius: 15px;
  overflow: hidden;
  position: relative;
  box-shadow: 0 15px 40px rgba(0,0,0,0.7);
  border: 1px solid rgba(187, 134, 252, 0.3);
}

.pdf-modal-header {
  position: absolute;
  top: 0;
  right: 0;
  padding: 15px;
  z-index: 10;
  display: flex;
  gap: 10px;
}

.pdf-download-btn, .pdf-close-btn {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.1);
  color: #e0e0e0;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  cursor: pointer;
  font-size: 1.5rem;
  transition: all 0.3s ease;
  z-index: 100;
}

.pdf-download-btn {
  text-decoration: none;
}

.pdf-download-btn:hover, .pdf-close-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: scale(1.1);
}

.pdf-viewer-container {
  width: 100%;
  height: 100%;
}

.pdf-viewer-container iframe {
  width: 100%;
  height: 100%;
  border: none;
}

.pdf-not-found {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  color: #bbb;
  font-size: 1.5rem;
}
* {
  -webkit-tap-highlight-color: transparent;
  tap-highlight-color: transparent;
}
.completed-lectures-section {
  margin-top: 25px;
  padding: 15px;
  background: rgba(30, 30, 30, 0.5);
  border-radius: 10px;
  border-left: 3px solid #00c853;
}

.completed-lectures-section h3 {
  font-size: 1.2rem;
  margin-bottom: 15px;
  color: #bb86fc;
  padding-bottom: 8px;
  border-bottom: 1px solid rgba(187, 134, 252, 0.2);
}

.completed-list {
  max-height: 300px;
  overflow-y: auto;
  padding-right: 5px;
  scrollbar-gutter: stable;
}

.completed-item {
  background: rgba(40, 40, 40, 0.8);
  border-radius: 8px;
  padding: 12px;
  margin-bottom: 10px;
  border-left: 3px solid #00c853;
  transition: all 0.3s ease;
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.completed-item:hover {
  transform: translateX(3px);
  box-shadow: 0 3px 10px rgba(0,0,0,0.2);
}

.completed-item .class-title {
  font-weight: 600;
  color: #e0e0e0;
  font-size: 0.95rem;
  line-height: 1.4;
}

.completed-item .class-date {
  font-size: 0.8rem;
  color: #888;
  font-style: italic;
  align-self: flex-end;
}

.empty-message {
  color: #888;
  font-style: italic;
  text-align: center;
  padding: 20px;
}
/* Custom scrollbar styling */
.completed-list::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.completed-list::-webkit-scrollbar-track {
  background: rgba(30, 30, 30, 0.5);
  border-radius: 4px;
}

.completed-list::-webkit-scrollbar-thumb {
  background: #bb86fc;
  border-radius: 4px;
}

.completed-list::-webkit-scrollbar-thumb:hover {
  background: #9c64d4;
}

/* For Firefox */
.completed-list {
  scrollbar-width: thin;
  scrollbar-color: #bb86fc rgba(30, 30, 30, 0.5);
}
.subject-progress {
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 1px solid rgba(187, 134, 252, 0.1);
}

.subject-progress h4 {
  margin-bottom: 5px;
  color: #e0e0e0;
  font-size: 1.1rem;
}

.total-progress {
  margin-top: 15px;
  padding-top: 15px;
  border-top: 1px solid rgba(187, 134, 252, 0.3);
}

.total-progress h4 {
  margin-bottom: 5px;
  color: #bb86fc;
  font-size: 1.2rem;
}
</style>
</head>
<body>
<div class="access-modal" id="access-modal">
  <div class="access-box">
    <div class="logo-container">
      <img src="logo.jpg" class="circular-logo" alt="HP Plus Logo">
    </div>
    <h2>Secure Access Required</h2>
    <p>Please enter the access code</p>
    
<div class="code-input">
  <input type="text" maxlength="1" pattern="[0-9A-Za-z]" required>
  <input type="text" maxlength="1" pattern="[0-9A-Za-z]" required>
  <input type="text" maxlength="1" pattern="[0-9A-Za-z]" required>
  <input type="text" maxlength="1" pattern="[0-9A-Za-z]" required>
  <input type="text" maxlength="1" pattern="[0-9A-Za-z]" required>
  <input type="text" maxlength="1" pattern="[0-9A-Za-z]" required>
</div>
    
    <button class="access-btn" id="submit-code">Submit Code</button>
    
    <div class="error-container" id="error-container">
      <img src="https://cdn3d.iconscout.com/3d/premium/thumb/block-message-5309088-4440424.png" alt="Access Denied">
      <p>Invalid access code. Please try again.</p>
      <button class="retry-btn" id="retry-btn">Retry</button>
    </div>
  </div>
</div>
  
  
  <div class="container">
    <header>
<a href="#" class="back-button" id="history-back-button">
  <i class="fas fa-arrow-left"></i>
</a>
<br>
</header>

  <div class="video-wrapper">
    <div id="player" data-plyr-provider="youtube"></div>
  </div>

<br>
    <div class="main-container">
<div class="video-section">
  <div class="video-header">
    <h2 id="lecture-title">Revision Class</h2>
    <p id="lecture-subtitle">Unknown Error</p>
  </div>
<br>
  <!-- Mark as complete section -->
  <div class="mark-complete-section">
    <button class="mark-complete-btn" id="mark-complete-btn">
      <i class="fas fa-check-circle"></i>
      <span>Mark as Completed</span>
    </button>
  </div>

  <!-- Resources section -->
<div class="resources-grid">
  <a href="#" class="resource-btn" data-type="lecture">
    <i class="fas fa-file-pdf"></i>
    <span>Lecture Sheet</span>
  </a>
  <a href="#" class="resource-btn" data-type="marked">
    <i class="fas fa-bookmark"></i>
    <span>Marked Book</span>
  </a>
  <a href="#" class="resource-btn" data-type="practice">
    <i class="fas fa-file-alt"></i>
    <span>Practice Sheet</span>
  </a>
</div>
<br>
<div class="progress-section">
  <div class="progress-header">
    <h3>Your Progress</h3>
  </div>
  
  <div class="subject-progress">
    <h4>Biology First Paper</h4>
    <div class="progress-stats">
      <span id="first-paper-percentage">0%</span>
      <span id="first-paper-count">0/0 classes</span>
    </div>
    <div class="progress-bar-container">
      <div class="progress-bar">
        <div class="progress-fill" id="first-paper-fill"></div>
      </div>
    </div>
  </div>
  
  <div class="subject-progress">
    <h4>Biology Second Paper</h4>
    <div class="progress-stats">
      <span id="second-paper-percentage">0%</span>
      <span id="second-paper-count">0/0 classes</span>
    </div>
    <div class="progress-bar-container">
      <div class="progress-bar">
        <div class="progress-fill" id="second-paper-fill"></div>
      </div>
    </div>
  </div>
  
  <div class="total-progress">
    <h4>Total Progress</h4>
    <div class="progress-stats">
      <span id="total-percentage">0%</span>
      <span id="total-count">0/0 classes</span>
    </div>
    <div class="progress-bar-container">
      <div class="progress-bar">
        <div class="progress-fill" id="total-fill"></div>
      </div>
    </div>
  </div>
</div>
<div class="completed-lectures-section">
  <h3>Completed Lectures</h3>
  <div class="completed-list" id="completed-list">
    <!-- Completed lectures will be added here dynamically -->
  </div>
</div>
<br>

  <div class="lectures-section">
    <h3>Related Lectures</h3>
    <div class="lectures-grid" id="related-lectures"></div>
  </div>
</div>   
<div class="resources-section">
        <div class="instructor-card">
          <div class="instructor-info">
            <img src="https://tse2.mm.bing.net/th/id/OIP.1sJeLw-w-Vgt4UbYpQuZ4gHaHa?rs=1&pid=ImgDetMain&o=7&rm=3" class="instructor-img" alt="Instructor">
            <div class="instructor-details">
              <h3>Hasnat Shuvro</h3>
              <p>Shaheed Suhrawardy Medical College & Hospital</p>
            </div>
          </div>
          
          <div class="about-lecture">
            <h3>About This Course</h3>
<p id="lecture-description">
  পূর্ববর্তী অভিজ্ঞতায় আমরা দেখেছি, শর্ট সিলেবাসের বাইরের অধ্যায়গুলো কলেজ লাইফে বেশিরভাগ শিক্ষার্থী পড়বো পড়বো করেও শেষ পর্যন্ত ধরতে পারে না।<br><br>

  তোমাদেরকে রুটিন অনুযায়ী প্রস্তুত করতে এবং মেডিকেল ভর্তির স্বপ্ন সফল করতে আমরা নিয়েছি একটি পরিকল্পিত উদ্যোগ। তুমি বাংলাদেশের যেকোনো প্রান্তে থাকো—টেকনাফ থেকে তেতুলিয়া—এই কোর্স তোমার জন্যই।<br><br>

  মেডিকেল পরীক্ষায় শীর্ষে থাকে সেই শিক্ষার্থীরাই যারা কলেজ জীবন থেকেই সিরিয়াস প্রস্তুতি নেয়। আমাদের এই আয়োজন তোমার প্রস্তুতির শুরুতেই দেবে একটি শক্তিশালী বুস্ট। বিশেষ করে যেহেতু মেডিকেলে সবচেয়ে বেশি চ্যালেঞ্জিং প্রশ্ন আসে বায়োলজি থেকে এবং এই বিষয়ের সিলেবাস সবচেয়ে বড়, তাই আমরা শুরুতেই বায়োলজিকে ফোকাস করেছি। ইনশাআল্লাহ্, আমরা আছি তোমার সাথে—তোমাকে শুধু চলতে হবে আমাদের দেখানো পথে।<br><br>

  তুমি এখন প্রবেশ করতে যাচ্ছো এক ভিন্নধর্মী বায়োলজির জগতে। আমাদের মূল ভিত্তি পাঠ্যবই হলেও পার্থক্য তৈরি হয় আমাদের টিচিং মেথডে। এখানে রয়েছে কনসেপ্ট, লজিক এবং রিয়েল-লাইফ উদাহরণের অসাধারণ সংমিশ্রণ। এটি তোমার আগ্রহ বাড়াবে, স্মরণক্ষমতা উন্নত করবে এবং পরীক্ষায় ভালো করার জন্য ইউনিক ও হিডেন ট্রিকস সরবরাহ করবে—যার মাধ্যমে তুমি হয়ে উঠবে বাংলাদেশের 'One of the Finest' পারফর্মারদের একজন।<br><br>

  যদি তুমি অলরেডি সেরা হও, আমরা তোমাকে বানাবো ‘সেরাদের সেরা’। যদি তুমি অ্যাভারেজ লেভেলে থাকো, আমরা তোমাকে ‘Best Warrior’ হিসেবে ট্রেইন করবো। আর যদি SSC-তে বায়োলজিতে খারাপ করে থাকো, তাহলে চিন্তার কিছু নেই—আমরা তোমাকে শূন্য থেকে পিকে তুলে আনবো ইনশাআল্লাহ্। তোমার একমাত্র কাজ—গাইডলাইন মেনে শ্রম দেওয়া।<br><br>

  কিছু বাস্তবতা জেনে রাখো: HSC জীবনে সবচেয়ে বড় চ্যালেঞ্জের জায়গা হলো বায়োলজি। অনেকেই প্রথম বর্ষে না পড়ে দ্বিতীয় বর্ষের জন্য জমিয়ে রাখে। এতে তারা প্রথম বর্ষেই ধাক্কা খায়। আবার যারা পড়ে, তারা কনসেপ্টের উপর জোর না দেওয়ায় পড়ালেখা ক্লান্তিকর লাগে, আগ্রহ হারায়। SSC জীবনের একঘেয়ে ও আনন্দহীন বায়োলজি এর অন্যতম কারণ।<br><br>

  আমরা তোমাকে দেখাবো—বায়োলজিও ফিজিক্স, কেমিস্ট্রি বা ম্যাথের মতোই লজিক্যাল ও আনন্দদায়ক হতে পারে। HSC-র বায়োলজি SSC থেকে অনেক গুণ বেশি হলেও সঠিক কনসেপ্ট থাকলে তা অনেক সহজ হয়ে যায়।<br><br>

  প্রিয় HSC’26 ব্যাচ, যারা ইতোমধ্যেই এই কোর্সে জয়েন করেছো—কয়েকদিনের মধ্যেই বুঝে যাবে, তুমি প্রবেশ করেছো এক ভিন্ন জগতে। তোমার বায়োলজি শেখা, বোঝা, স্মরণ করা এবং পরীক্ষায় পারফর্ম করার দক্ষতা তোমার ক্লাসমেটদের তুলনায় ১০০ গুণ বেশি হবে ইনশাআল্লাহ্।<br><br>

  স্বাগতম—বাংলাদেশের সবচেয়ে ইউনিক বায়োলজি কোর্সের জগতে, যেখানে লজিক, কনসেপ্ট ও রিয়েল লাইফ এক্সপেরিয়েন্স একসাথে কাজ করে।<br><br>

  <strong>Let’s make this journey beautiful. Let’s burn everything!</strong>
</p>

            <div class="read-more" id="read-more">Read more...</div>
          </div>
        </div>
       

      </div>
    </div>
  </div>    
      </div>
     <br> 
      



<!-- Confirmation Modal -->
<div class="confirmation-modal" id="confirmation-modal">
  <div class="confirmation-box">
    <h3>Confirm Completion</h3>
    <p>Cannot be unchanged! Are you sure?</p>
    <div class="confirmation-buttons">
      <button class="confirm-btn confirm-yes" id="confirm-yes">Yes</button>
      <button class="confirm-btn confirm-no" id="confirm-no">No</button>
    </div>
  </div>
</div>


<!-- Add this PDF Modal structure at the end of the body before the script tags -->
<div class="pdf-modal" id="pdf-modal">
  <div class="pdf-modal-content">
    <div class="pdf-modal-header">
      <a href="#" class="pdf-download-btn" id="pdf-download-btn" target="_self">
        <i class="fas fa-download"></i>
      </a>
      <button class="pdf-close-btn" id="pdf-close-btn">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="pdf-viewer-container" id="pdf-viewer-container">
      <!-- PDF will be embedded here -->
    </div>
    <div class="pdf-not-found" id="pdf-not-found" style="display: none;">
      <h3 id="not-found-message">Lecture Sheet Not Found</h3>
    </div>
  </div>
</div>

<script src="https://cdn.plyr.io/3.7.8/plyr.polyfilled.js"></script>
    <script src="lectures.js"></script>
<script>
// Add this to your existing JavaScript code
document.getElementById('history-back-button').addEventListener('click', function(e) {
  e.preventDefault();
  window.history.back();
});
// Function to get the video ID from the URL
function getVideoId() {
  const urlParams = new URLSearchParams(window.location.search);
  const videoId = urlParams.get('v');
  
  if (!videoId || !/^[a-zA-Z0-9_-]{11}$/.test(videoId)) {
    return null;
  }
  
  return videoId;
}

// Initialize player when we have a valid video ID
function initializePlayer(videoId) {
  const playerElement = document.getElementById('player');
  playerElement.setAttribute('data-plyr-embed-id', videoId);
  
  const player = new Plyr('#player', {
    controls: [
      'play-large',
      'play',
      'rewind',
      'fast-forward',
      'progress',
      'current-time',
      'duration',
      'mute',
      'volume',
      'settings',
      'fullscreen'
    ],
    ratio: '16:9',
    seekTime: 5,
    keyboard: { focused: true, global: true },
    youtube: {
      noCookie: true,
      rel: 0,
      modestbranding: 1,
      showinfo: 0,
      controls: 0,
      disablekb: 1
    }
  });

  const hideYouTubeUI = () => {
    const iframe = document.querySelector('.plyr__video-embed iframe');
    if (iframe) {
      iframe.style.pointerEvents = 'none';
      iframe.style.backgroundColor = 'transparent';
    }
  };
  
  hideYouTubeUI();
  setInterval(hideYouTubeUI, 1000);
  
  document.addEventListener('keydown', (e) => {
    // Skip if focused on an input or textarea
    if (document.activeElement.tagName === 'INPUT' || document.activeElement.tagName === 'TEXTAREA') {
      return;
    }
    
    // Prevent default for space only when not in a contenteditable
    if (e.key === ' ' && !document.activeElement.isContentEditable) {
      e.preventDefault();
      player.togglePlay();
      return;
    }
    
    const controls = {
      'k': () => player.togglePlay(),
      'm': () => player.muted = !player.muted,
      'f': () => player.fullscreen.toggle(),
      'ArrowLeft': () => player.rewind(5),
      'ArrowRight': () => player.forward(5),
      'j': () => player.rewind(10),
      'l': () => player.forward(10),
      '0': () => player.currentTime = 0,
      'Home': () => player.currentTime = 0,
      'End': () => player.currentTime = player.duration
    };
    
    if (controls[e.key]) {
      controls[e.key]();
      e.preventDefault();
    }
    
    if (e.key >= 1 && e.key <= 9) {
      player.currentTime = player.duration * (e.key / 10);
      e.preventDefault();
    }
  });
  
  let lastTap = 0;
  document.querySelector('.video-wrapper').addEventListener('click', (e) => {
    const now = Date.now();
    if (now - lastTap < 300) {
      player.togglePlay();
    }
    lastTap = now;
  });
  
  return player;
}

// Find lecture by video ID
function findLectureByVideoId(videoId) {
  for (const subject in lectures) {
    for (const chapter in lectures[subject]) {
      for (const classNum in lectures[subject][chapter]) {
        if (lectures[subject][chapter][classNum].id === videoId) {
          return {
            subject,
            chapter,
            classNum: parseInt(classNum),
            title: lectures[subject][chapter][classNum].title
          };
        }
      }
    }
  }
  return null;
}

// Create lecture card (only if video ID is valid)
function createLectureCard(subject, chapter, classNum, title, videoId) {
  if (!videoId) return null;
  
  const card = document.createElement('div');
  card.className = 'lecture-card';
  card.innerHTML = `
    <div class="lecture-thumbnail">
      <img src="https://img.youtube.com/vi/${videoId}/0.jpg" alt="${title}">
      <div class="play-icon"></div>
    </div>
    <div class="lecture-info">
      <h4>${title}</h4>
      <div class="lecture-meta">
        <span>${chapter}</span>
        <span>Class ${classNum}</span>
      </div>
    </div>
  `;
  
  card.addEventListener('click', () => {
    window.location.href = `index.html?v=${videoId}`;
  });
  
  return card;
}

// Get all lectures except the current one (skip null videos)
function getAllLecturesExceptCurrent(currentVideoId) {
  const allLectures = [];
  
  for (const subject in lectures) {
    for (const chapter in lectures[subject]) {
      for (const classNum in lectures[subject][chapter]) {
        const lecture = lectures[subject][chapter][classNum];
        if (lecture.id && lecture.id !== currentVideoId) {
          allLectures.push({
            subject,
            chapter,
            classNum: parseInt(classNum),
            title: lecture.title,
            id: lecture.id
          });
        }
      }
    }
  }
  
  for (let i = allLectures.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [allLectures[i], allLectures[j]] = [allLectures[j], allLectures[i]];
  }
  
  return allLectures;
}

// Access code generation and validation
function setupAccessControl() {
  const accessModal = document.getElementById('access-modal');
  const submitBtn = document.getElementById('submit-code');
  const retryBtn = document.getElementById('retry-btn');
  const errorContainer = document.getElementById('error-container');
  const codeInputs = document.querySelectorAll('.code-input input'); // Get all input fields
  
  if (localStorage.getItem('bioMissionAccessGranted') === 'true') {
    accessModal.style.display = 'none';
    return;
  }
  
  function generateAccessCode(date = new Date()) {
    // The same algorithm used in the generator
    const codeParts = [
      (date.getDate() + 9).toString(16).slice(-2),
      (date.getMonth() + 11).toString(32).slice(-2),
      (date.getFullYear() - 1993).toString(30).slice(-2)
    ];
    
    return codeParts.join('').toUpperCase();
  }
  
  function validateAccessCode() {
    let enteredCode = '';
    codeInputs.forEach(input => {
      enteredCode += input.value;
    });
    
    // Check today's code
    if (enteredCode === generateAccessCode()) return true;
    
    // Check yesterday's code (for timezone differences)
    const yesterday = new Date();
    yesterday.setDate(yesterday.getDate() - 1);
    if (enteredCode === generateAccessCode(yesterday)) return true;
    
    // Check tomorrow's code (for timezone differences)
    const tomorrow = new Date();
    tomorrow.setDate(tomorrow.getDate() + 1);
    if (enteredCode === generateAccessCode(tomorrow)) return true;
    
    return false;
  }
  
  // Auto-focus the first input
  if (codeInputs.length > 0) {
    codeInputs[0].focus();
  }
  
  // Handle input navigation
  codeInputs.forEach((input, index) => {
    input.addEventListener('input', (e) => {
      if (e.target.value.length === 1 && index < codeInputs.length - 1) {
        codeInputs[index + 1].focus();
      }
    });
    
    input.addEventListener('keydown', (e) => {
      if (e.key === 'Backspace' && e.target.value.length === 0 && index > 0) {
        codeInputs[index - 1].focus();
      }
    });
  });
  
  submitBtn.addEventListener('click', async () => {
    if (validateAccessCode()) {
      localStorage.setItem('bioMissionAccessGranted', 'true');
      accessModal.style.display = 'none';
    } else {
      errorContainer.style.display = 'block';
    }
  });
  
  retryBtn.addEventListener('click', () => {
    errorContainer.style.display = 'none';
    codeInputs.forEach(input => {
      input.value = '';
    });
    if (codeInputs.length > 0) {
      codeInputs[0].focus();
    }
  });
  
  // Handle Enter key submission
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      submitBtn.click();
    }
  });
}

// Progress Tracking Functions
let previousProgress = 0;

function getCompletedLectures() {
  return JSON.parse(localStorage.getItem('completedLectures') || '[]');
}

function saveCompletedLectures(completed) {
  localStorage.setItem('completedLectures', JSON.stringify(completed));
}

function markLectureCompleted(lectureInfo) {
  const completed = getCompletedLectures();
  
  // Check if already completed
  const isAlreadyCompleted = completed.some(item => 
    item.subject === lectureInfo.subject && 
    item.chapter === lectureInfo.chapter && 
    item.classNum === lectureInfo.classNum
  );
  
  if (!isAlreadyCompleted) {
    completed.push({
      subject: lectureInfo.subject,
      chapter: lectureInfo.chapter,
      classNum: lectureInfo.classNum,
      title: lectureInfo.title,
      date: new Date().toISOString()
    });
    
    saveCompletedLectures(completed);
    return true;
  }
  
  return false;
}

function calculateProgress() {
  const completed = getCompletedLectures();
  
  let firstPaperTotal = 0;
  let firstPaperCompleted = 0;
  let secondPaperTotal = 0;
  let secondPaperCompleted = 0;
  
  // Count lectures for each subject (excluding HSC 2027 classes)
  for (const subject in lectures) {
    for (const chapter in lectures[subject]) {
      // Skip HSC 2027 chapters
      if (chapter.includes("HSC 2027")) continue;
      
      for (const classNum in lectures[subject][chapter]) {
        if (lectures[subject][chapter][classNum].id) {
          if (subject === "Biology First Paper") {
            firstPaperTotal++;
          } else if (subject === "Biology Second Paper") {
            secondPaperTotal++;
          }
        }
      }
    }
  }
  
  // Count completed lectures for each subject
  completed.forEach(item => {
    // Skip HSC 2027 chapters
    if (item.chapter.includes("HSC 2027")) return;
    
    if (item.subject === "Biology First Paper") {
      firstPaperCompleted++;
    } else if (item.subject === "Biology Second Paper") {
      secondPaperCompleted++;
    }
  });
  
  // Calculate percentages
  const firstPaperPercentage = firstPaperTotal > 0 ? 
    Math.round((firstPaperCompleted / firstPaperTotal) * 100) : 0;
  const secondPaperPercentage = secondPaperTotal > 0 ? 
    Math.round((secondPaperCompleted / secondPaperTotal) * 100) : 0;
  
  const totalCompleted = firstPaperCompleted + secondPaperCompleted;
  const totalLectures = firstPaperTotal + secondPaperTotal;
  const totalPercentage = totalLectures > 0 ? 
    Math.round((totalCompleted / totalLectures) * 100) : 0;
  
  return {
    firstPaper: {
      completed: firstPaperCompleted,
      total: firstPaperTotal,
      percentage: firstPaperPercentage
    },
    secondPaper: {
      completed: secondPaperCompleted,
      total: secondPaperTotal,
      percentage: secondPaperPercentage
    },
    total: {
      completed: totalCompleted,
      total: totalLectures,
      percentage: totalPercentage
    }
  };
}

// Call this separately (e.g., in initPage())
updateCompletedLecturesList();
function showCelebration(newProgress) {
  // Play celebration sound
  playCelebrationSound();
  
  const celebrationModal = document.getElementById('celebration-modal');
  const progressBefore = document.getElementById('progress-before');
  const progressAfter = document.getElementById('progress-after');
  const progressIncreaseText = document.getElementById('progress-increase');
  
  // Calculate the new progress with 2 decimal places
  const newProgressFormatted = newProgress.toFixed(2);
  
  // Set initial values
  progressBefore.style.width = `${previousProgress}%`;
  progressAfter.style.width = '0%';
  progressIncreaseText.textContent = `${newProgressFormatted}%`;
  
  // Show modal
  celebrationModal.style.display = 'flex';
  
  // Animate confetti
  const confettiElements = document.querySelectorAll('.confetti');
  confettiElements.forEach((confetti, index) => {
    confetti.style.left = `${Math.random() * 100}%`;
    confetti.style.animation = `confetti ${2 + Math.random() * 3}s ease-out forwards`;
    confetti.style.animationDelay = `${index * 0.2}s`;
    confetti.style.opacity = '1';
    confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 70%)`;
  });
  
  // Animate progress bar after a short delay
  setTimeout(() => {
    progressAfter.style.width = `${newProgress}%`;
  }, 300);
  
  // OK button handler
  document.getElementById('celebration-ok-btn').onclick = () => {
    celebrationModal.style.display = 'none';
    
    // Reset confetti
    confettiElements.forEach(confetti => {
      confetti.style.animation = 'none';
      confetti.style.opacity = '0';
    });
  };
}
function initMarkCompleteButton() {
  const markCompleteBtn = document.getElementById('mark-complete-btn');
  
  markCompleteBtn.addEventListener('click', function() {
    document.getElementById('confirmation-modal').style.display = 'flex';
  });

  // Confirmation handlers
  document.getElementById('confirm-yes').addEventListener('click', function() {
    const videoId = getVideoId();
    const lectureInfo = findLectureByVideoId(videoId);
    
    if (lectureInfo && markLectureCompleted(lectureInfo)) {
      updateProgressUI();
      const newProgress = calculateProgress().percentage;
      document.getElementById('confirmation-modal').style.display = 'none';
      showCelebration(newProgress);
    }
  });
  
  document.getElementById('confirm-no').addEventListener('click', function() {
    document.getElementById('confirmation-modal').style.display = 'none';
  });
}

// Update chapter info display
function updateChapterInfo(lectureInfo) {
  const chapterInfo = document.getElementById('chapter-info');
  
  if (lectureInfo && chapterInfo) {
    chapterInfo.innerHTML = `
      <div class="chapter-info-item">
        <div class="chapter-info-label">Subject:</div>
        <div class="chapter-info-value">${lectureInfo.subject}</div>
      </div>
      <div class="chapter-info-item">
        <div class="chapter-info-label">Chapter:</div>
        <div class="chapter-info-value">${lectureInfo.chapter}</div>
      </div>
      <div class="chapter-info-item">
        <div class="chapter-info-label">Class Number:</div>
        <div class="chapter-info-value">${lectureInfo.classNum}</div>
      </div>
    `;
  }
}

// Filter out lectures with null video IDs
function filterNullLectures() {
  // Filter related lectures
  const relatedLecturesContainer = document.getElementById('related-lectures');
  const relatedCards = relatedLecturesContainer.querySelectorAll('.lecture-card');
  
  relatedCards.forEach(card => {
    const img = card.querySelector('img');
    if (img && img.src.includes('vi/null/')) {
      card.remove();
    }
  });

  // Filter more lectures
  const moreLecturesContainer = document.getElementById('more-lectures');
  if (moreLecturesContainer) {
    const moreCards = moreLecturesContainer.querySelectorAll('.lecture-card');
    
    moreCards.forEach(card => {
      const img = card.querySelector('img');
      if (img && img.src.includes('vi/null/')) {
        card.remove();
      }
    });

    // Hide "Load More" button if no more valid lectures
    const moreBtn = document.getElementById('more-btn');
    if (moreBtn && moreLecturesContainer.children.length === 0) {
      moreBtn.style.display = 'none';
    }
  }
}

// Initialize the page
function initPage() {
  setupAccessControl();
  
  const videoId = getVideoId();
  
  if (!videoId) {
    document.getElementById('error-message').style.display = 'block';
    return;
  }
  
  const lectureInfo = findLectureByVideoId(videoId);
  
if (lectureInfo) {
    // Get the elements
    const lectureTitle = document.getElementById('lecture-title');
    const lectureSubtitle = document.getElementById('lecture-subtitle');
    
    // Clear any existing content
    lectureTitle.innerHTML = '';
    lectureSubtitle.innerHTML = '';
    
    // Create and append elements for the new format
    const classNumElement = document.createElement('div');
    classNumElement.textContent = `Class ${lectureInfo.classNum}`;
    classNumElement.style.fontSize = '1.8rem';
    classNumElement.style.marginBottom = '5px';
    
    const chapterSubjectElement = document.createElement('div');
    chapterSubjectElement.textContent = `${lectureInfo.chapter} | ${lectureInfo.subject}`;
    chapterSubjectElement.style.fontSize = '1.1rem';
    chapterSubjectElement.style.color = '#bbb';
    
    lectureTitle.appendChild(classNumElement);
    lectureTitle.appendChild(chapterSubjectElement);
    
    // Hide the subtitle element since we're using the title element for both lines
    lectureSubtitle.style.display = 'none';

    
    updateChapterInfo(lectureInfo);
  }
  
  initializePlayer(videoId);
  
  // Initialize other UI elements
  const description = document.getElementById('lecture-description');
  const readMore = document.getElementById('read-more');
  
  if (readMore) {
    readMore.addEventListener('click', () => {
      description.classList.toggle('expanded');
      readMore.textContent = description.classList.contains('expanded') ? 'Read less' : 'Read more...';
    });
  }
  
  if (lectureInfo) {
    const relatedLecturesContainer = document.getElementById('related-lectures');
    const chapterLectures = lectures[lectureInfo.subject][lectureInfo.chapter];
    
    for (const classNum in chapterLectures) {
      if (parseInt(classNum) !== lectureInfo.classNum) {
        const lecture = chapterLectures[classNum];
        if (lecture.id) {
          const card = createLectureCard(
            lectureInfo.subject,
            lectureInfo.chapter,
            classNum,
            lecture.title,
            lecture.id
          );
          if (card && relatedLecturesContainer) {
            relatedLecturesContainer.appendChild(card);
          }
        }
      }
    }
  }
  
  // Initialize progress tracking
  updateProgressUI();
  initMarkCompleteButton();
  
  // Remove any duplicate event listeners that might be causing issues
  const oldBtn = document.getElementById('mark-complete-btn');
  if (oldBtn) {
    const newBtn = oldBtn.cloneNode(true);
    oldBtn.parentNode.replaceChild(newBtn, oldBtn);
    
    // Reinitialize the button
    initMarkCompleteButton();
  }
  
  // Filter null lectures
  setTimeout(filterNullLectures, 1000);
}

// Initialize when page loads
document.addEventListener('DOMContentLoaded', () => {
  initPage();
  
  // Add loaded class to logo after short delay
  const logo = document.querySelector('.circular-logo');
  if (logo) {
    setTimeout(() => {
      logo.classList.add('loaded');
      
      setTimeout(() => {
        logo.classList.remove('loaded');
      }, 6000);
    }, 500);
  }
});

// Security and anti-crawler measures
const crawlers = [
  'googlebot', 'bingbot', 'slurp', 'duckduckbot',
  'baiduspider', 'yandexbot', 'sogou', 'exabot'
];

if (crawlers.some(bot => navigator.userAgent.toLowerCase().includes(bot))) {
  document.body.innerHTML = `
    <div style="text-align:center;padding:50px;">
      <img src="https://cdn3d.iconscout.com/3d/premium/thumb/block-message-5309088-4440424.png" 
           style="width:200px;">
      <h2>Access Restricted</h2>
      <p>This content is not available to search engines.</p>
    </div>
  `;
  throw new Error("Search crawler blocked");
}

// Prevent right-click and other actions
document.addEventListener('contextmenu', (e) => e.preventDefault());
document.addEventListener('keydown', (e) => {
  if (e.ctrlKey && (e.key === 'c' || e.key === 'x' || e.key === 'a')) {
    e.preventDefault();
  }
  if ((e.ctrlKey || e.shiftKey) && (e.key === 'Insert' || e.key === 'Delete')) {
    e.preventDefault();
  }
});
document.addEventListener('selectstart', (e) => e.preventDefault());
document.addEventListener('wheel', (e) => {
  if (e.ctrlKey) e.preventDefault();
}, { passive: false });
document.addEventListener('keydown', (e) => {
  if (e.ctrlKey && (e.key === '+' || e.key === '-' || e.key === '0')) {
    e.preventDefault();
  }
});

// Prevent zooming on double tap
let lastTouchEnd = 0;
document.addEventListener('touchend', (event) => {
  const now = (new Date()).getTime();
  if (now - lastTouchEnd <= 300) {
    event.preventDefault();
  }
  lastTouchEnd = now;
}, false);

// Mobile double tap to seek
let lastTouchTime = 0;
let touchStartX = 0;

const videoWrapper = document.querySelector('.video-wrapper');
if (videoWrapper) {
  videoWrapper.addEventListener('touchstart', (e) => {
    touchStartX = e.touches[0].clientX;
    const currentTime = Date.now();
    
    // Check for double tap (less than 300ms between touches)
    if (currentTime - lastTouchTime < 300) {
      const player = document.querySelector('.plyr')?.plyr;
      if (player) {
        const videoRect = videoWrapper.getBoundingClientRect();
        const tapX = e.touches[0].clientX - videoRect.left;
        const videoWidth = videoRect.width;
        
        // If tap is on right side, seek forward 5s
        if (tapX > videoWidth / 2) {
          player.forward(5);
        } 
        // If tap is on left side, seek backward 5s
        else {
          player.rewind(5);
        }
      }
      e.preventDefault();
    }
    lastTouchTime = currentTime;
  });
}

// Also prevent accidental zooming on double tap
document.addEventListener('dblclick', (e) => {
  if (e.target.closest('.video-wrapper')) {
    e.preventDefault();
  }
}, { passive: false });
// Audio for celebration
const celebrationSound = new Audio('win.mp3');

function playCelebrationSound() {
  celebrationSound.play().catch(e => {
    console.log("Audio playback prevented:", e);
    // Fallback: Try again if autoplay was blocked
    document.body.addEventListener('click', function enableAudio() {
      celebrationSound.play();
      document.body.removeEventListener('click', enableAudio);
    }, { once: true });
  });
}
// Add this JavaScript after your existing code
// PDF Modal functionality
const pdfModal = document.getElementById('pdf-modal');
const pdfCloseBtn = document.getElementById('pdf-close-btn');
const pdfDownloadBtn = document.getElementById('pdf-download-btn');
const pdfViewerContainer = document.getElementById('pdf-viewer-container');
const pdfNotFound = document.getElementById('pdf-not-found');
const notFoundMessage = document.getElementById('not-found-message');

// Function to open PDF modal
function openPdfModal(type) {
  const videoId = getVideoId();
  const lectureInfo = findLectureByVideoId(videoId);
  
  if (!lectureInfo) {
    showNotFound(type);
    return;
  }
  
  const subjectLectures = lectures[lectureInfo.subject];
  const chapter = subjectLectures[lectureInfo.chapter];
  let fileId;
  
  if (type === 'lecture') {
    fileId = chapter.lectureSheetId;
  } else if (type === 'practice') {
    fileId = chapter.practiceSheetId;
  } else if (type === 'marked') {
    fileId = chapter.markedBookId || ''; 
  }
  
  // Reset modal state
  pdfNotFound.style.display = 'none';
  pdfViewerContainer.innerHTML = '';
  pdfViewerContainer.style.display = 'block';
  
  if (fileId) {
    // Create iframe with proper Google Drive viewer URL
    const iframe = document.createElement('iframe');
    iframe.src = `https://drive.google.com/file/d/${fileId}/preview`;
    iframe.style.width = '100%';
    iframe.style.height = '100%';
    iframe.frameBorder = '0';
    pdfViewerContainer.appendChild(iframe);
    
    // Set proper download link
    pdfDownloadBtn.href = `https://drive.google.com/uc?export=download&id=${fileId}`;
    pdfDownloadBtn.style.display = 'flex';
  } else {
    showNotFound(type);
  }
  
  pdfModal.classList.add('active');
  document.body.style.overflow = 'hidden';
}

function showNotFound(type) {
  pdfViewerContainer.style.display = 'none';
  pdfDownloadBtn.style.display = 'none';
  
  let message = '';
  if (type === 'lecture') {
    message = 'Lecture Sheet Not Found';
  } else if (type === 'practice') {
    message = 'Practice Sheet Not Found';
  } else if (type === 'marked') {
    message = 'Marked Book Not Found';
  }
  
  notFoundMessage.textContent = message;
  pdfNotFound.style.display = 'flex';
}

// Close modal function
function closePdfModal() {
  pdfModal.classList.remove('active');
  document.body.style.overflow = '';
}

// Event listeners
pdfCloseBtn.addEventListener('click', closePdfModal);
pdfDownloadBtn.addEventListener('click', (e) => {
  // Default behavior will download the file
});

// Also close modal when clicking outside the content
pdfModal.addEventListener('click', (e) => {
  if (e.target === pdfModal) {
    closePdfModal();
  }
});

// Update resource buttons to use the modal
document.querySelectorAll('.resource-btn[data-type]').forEach(btn => {
  btn.addEventListener('click', (e) => {
    e.preventDefault();
    const type = btn.getAttribute('data-type');
    openPdfModal(type);
  });
});
function updateCompletedLecturesList() {
  const completedList = document.getElementById('completed-list');
  const completed = getCompletedLectures();
  
  // Clear existing list
  completedList.innerHTML = '';
  
  if (completed.length === 0) {
    completedList.innerHTML = '<div class="empty-message">No lectures completed yet</div>';
    return;
  }
  
  // Sort the completed lectures by:
  // 1. Subject order (Biology First Paper first, then Second Paper)
  // 2. Chapter order (as they appear in the lectures object)
  // 3. Class number (ascending)
  completed.sort((a, b) => {
    // First sort by subject (First Paper comes before Second Paper)
    const subjectOrder = {
      "Biology First Paper": 1,
      "Biology Second Paper": 2
    };
    
    if (subjectOrder[a.subject] !== subjectOrder[b.subject]) {
      return subjectOrder[a.subject] - subjectOrder[b.subject];
    }
    
    // Then sort by chapter order within the subject
    const subjectLectures = lectures[a.subject];
    const chapterNames = Object.keys(subjectLectures);
    const aChapterIndex = chapterNames.indexOf(a.chapter);
    const bChapterIndex = chapterNames.indexOf(b.chapter);
    
    if (aChapterIndex !== bChapterIndex) {
      return aChapterIndex - bChapterIndex;
    }
    
    // Finally sort by class number
    return a.classNum - b.classNum;
  });
  
  // Group by subject
  const groupedBySubject = {};
  completed.forEach(lecture => {
    // Skip HSC 2027 classes
    if (lecture.chapter.includes("HSC 2027")) return;
    
    if (!groupedBySubject[lecture.subject]) {
      groupedBySubject[lecture.subject] = [];
    }
    groupedBySubject[lecture.subject].push(lecture);
  });
  
  // Create sections for each subject
  for (const subject in groupedBySubject) {
    const subjectSection = document.createElement('div');
    subjectSection.className = 'subject-section';
    
    const subjectHeader = document.createElement('h4');
    subjectHeader.textContent = subject;
    subjectHeader.style.color = '#bb86fc';
    subjectHeader.style.marginTop = '15px';
    subjectHeader.style.marginBottom = '10px';
    subjectSection.appendChild(subjectHeader);
    
    // Group by chapter within each subject
    const groupedByChapter = {};
    groupedBySubject[subject].forEach(lecture => {
      if (!groupedByChapter[lecture.chapter]) {
        groupedByChapter[lecture.chapter] = [];
      }
      groupedByChapter[lecture.chapter].push(lecture);
    });
    
    // Add lectures for each chapter
    for (const chapter in groupedByChapter) {
      const chapterHeader = document.createElement('div');
      chapterHeader.className = 'chapter-header';
      
      // Extract chapter number and name
      const chapterMatch = chapter.match(/Chapter (\d+): (.*)/);
      const chapterNum = chapterMatch ? chapterMatch[1] : '';
      const chapterName = chapterMatch ? chapterMatch[2] : chapter;

      // Add lectures for this chapter
      groupedByChapter[chapter].forEach(lecture => {
        const date = new Date(lecture.date);
        const formattedDate = date.toLocaleDateString('en-US', { 
          year: 'numeric', 
          month: 'short', 
          day: 'numeric' 
        });
        
        const item = document.createElement('div');
        item.className = 'completed-item';
        item.innerHTML = `
          <div class="class-title">Class ${lecture.classNum} | Chapter ${chapterNum}: ${chapterName} | ${lecture.subject}
<div class="class-date">Completed on ${formattedDate}</div>
</div>
          
        `;
        subjectSection.appendChild(item);
      });
    }
    
    completedList.appendChild(subjectSection);
  }
}
function updateProgressUI() {
  const progress = calculateProgress();
  
  // Update first paper progress
  document.getElementById('first-paper-fill').style.width = `${progress.firstPaper.percentage}%`;
  document.getElementById('first-paper-percentage').textContent = `${progress.firstPaper.percentage}%`;
  document.getElementById('first-paper-count').textContent = 
    `${progress.firstPaper.completed}/${progress.firstPaper.total} classes`;
  
  // Update second paper progress
  document.getElementById('second-paper-fill').style.width = `${progress.secondPaper.percentage}%`;
  document.getElementById('second-paper-percentage').textContent = `${progress.secondPaper.percentage}%`;
  document.getElementById('second-paper-count').textContent = 
    `${progress.secondPaper.completed}/${progress.secondPaper.total} classes`;
  
  // Update total progress
  document.getElementById('total-fill').style.width = `${progress.total.percentage}%`;
  document.getElementById('total-percentage').textContent = `${progress.total.percentage}%`;
  document.getElementById('total-count').textContent = 
    `${progress.total.completed}/${progress.total.total} classes`;
  
  // Update mark complete button
  const markCompleteBtn = document.getElementById('mark-complete-btn');
  const videoId = getVideoId();
  const lectureInfo = findLectureByVideoId(videoId);

  if (lectureInfo) {
    const isCompleted = getCompletedLectures().some(item => 
      item.subject === lectureInfo.subject && 
      item.chapter === lectureInfo.chapter && 
      item.classNum === lectureInfo.classNum
    );
    
    if (isCompleted) {
      markCompleteBtn.innerHTML = '<i class="fas fa-check-circle"></i><span>Completed</span>';
      markCompleteBtn.classList.add('completed');
      markCompleteBtn.disabled = true;
    } else {
      markCompleteBtn.innerHTML = '<i class="fas fa-check-circle"></i><span>Mark as Completed</span>';
      markCompleteBtn.classList.remove('completed');
      markCompleteBtn.disabled = false;
    }
  }
}
</script>
</body>
</html>